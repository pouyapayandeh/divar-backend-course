(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{218:function(e,r,t){"use strict";t.r(r);var n=t(0),o=Object(n.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"کوبرنتیز"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#کوبرنتیز"}},[e._v("#")]),e._v(" کوبرنتیز")]),e._v(" "),t("p",[e._v("ابتدا برای اینکه بدونی kubernetes چیه و چرا ازش استفاده می‌کنیم این "),t("a",{attrs:{href:"https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/",target:"_blank",rel:"noopener noreferrer"}},[e._v("لینک"),t("OutboundLink")],1),e._v(" رو بخون و این "),t("a",{attrs:{href:"https://drive.google.com/open?id=152P-bKJwpxcLtJRDseRh1n4xDWt0Vnon",target:"_blank",rel:"noopener noreferrer"}},[e._v("ویدیو"),t("OutboundLink")],1),e._v(" رو ببین. برای آشنا شدن با مفاهیم kubernetes می‌تونید از این "),t("a",{attrs:{href:"https://kubernetes.io/docs/concepts/",target:"_blank",rel:"noopener noreferrer"}},[e._v("لینک"),t("OutboundLink")],1),e._v(" استفاده کنید.")]),e._v(" "),t("p",[e._v("برای بالا آوردن kubernetes به صورت لوکال از "),t("a",{attrs:{href:"https://kubernetes.io/docs/setup/minikube/",target:"_blank",rel:"noopener noreferrer"}},[e._v("این لینک"),t("OutboundLink")],1),e._v(" استفاده کنید. (در صورت نیاز از منتورت کمک بگیر)")]),e._v(" "),t("p",[e._v("در این قسمت می‌خوایم یک پروژه‌ی جنگو رو همراه تمام dependancyهاش روی kubernetes بیاریم بالا. برای شروع یک پروژه‌ی جنگو با REST-API بسازید که یک Endpoint با فعل GET داشته باشه که یک Hello World ساده برمی‌گردونه لازمه که توی این قسمت نکات زیر رو رعایت کنیم:")]),e._v(" "),t("ul",[t("li",[e._v("اول docker براش بسازیم")]),e._v(" "),t("li",[e._v("برای خود پروژه یه deployment با حداقل ۳ تا replica بیاریم بالا.")]),e._v(" "),t("li",[e._v("برای پروژه یه service روی port شماره ۸۰۰۰ بسازیم و بتونیم بهش دسترسی پیدا کنیم.")])]),e._v(" "),t("p",[e._v("حالا فرض کنید redis و postgresql و nginxی برای پروژه می‌خوایم  و می‌خوایم که از هر کدوم یه دونه روی kubernetes‌ بیاریم بالا و از طریق service به پروژه وصلشون کنیم.")]),e._v(" "),t("ul",[t("li",[e._v("برای پروژه‌مون readiness probe و liveness probe بذاریم یه جوری که منطقی باشه.")]),e._v(" "),t("li",[e._v("اگه دیتابیس داریم برای این که وقتی pod دیتابیسمون پاک می‌شه دیتای روش نپره یه فکری بکنیم (راهنمایی: local volume یا hostpath)")]),e._v(" "),t("li",[e._v("برای podهای پروژه و redis و postgresql استفاده از resourceهارو محدود کنیم. ینی کاری کنیم که نتونن از یه حدی بیشتر cpu و memory استفاده کنن.")]),e._v(" "),t("li",[e._v("فرض کنید پروژه‌ای داریم که دیتابیس داره و میخوایم فرایند بکاپ گیری رو ببریم رو کوبر. برای این کار یه  "),t("a",{attrs:{href:"https://kubernetes.io/docs/concepts/workloads/controllers/jobs-run-to-completion/",target:"_blank",rel:"noopener noreferrer"}},[e._v("job"),t("OutboundLink")],1),e._v(" کوبر بنویس تا اسکریپت بکاپ گیری مون رو کوبر انجام بشه. ولی حواست به این موضوع باشه که فضای ذخیره سازی رو کوبر ممکن کم باشه و حجم دیتابیس ای که می خوایم بکاپ بگیریم زیاد باشه برای همین به این فکر کن که چطور این مشکل رو میشه حل کرد")])]),e._v(" "),t("p",[e._v("برای انجام دادن کارای بالا خوبه که از "),t("a",{attrs:{href:"https://kubernetes.io/docs/home/",target:"_blank",rel:"noopener noreferrer"}},[e._v("خود سایت kubernetes"),t("OutboundLink")],1),e._v(" استفاده کنید و سعی کنید بهترین راه حلی که پیدا می‌کنید رو انجام بدید.")]),e._v(" "),t("p",[e._v("deployment و service و … خودتونو به صورت فایل‌های yaml بسازید و داخل git پروژه قرار دهید طوری که یه نفر اگه یه kubernetes خالی رو تحویل بگیره بتونه با این فایل‌ها همه‌ی چیزایی که بالا گفتیم رو بیاره بالا.")])])}),[],!1,null,null,null);r.default=o.exports}}]);
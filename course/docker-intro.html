<!DOCTYPE html>
<html lang="fa-IR">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>آشنایی با Docker | دوره آموزشی back-end دیوار</title>
    <meta name="description" content="">
    <link rel="icon" href="/divar-backend-course/favicon.png">
    
    <link rel="preload" href="/divar-backend-course/assets/css/0.styles.fca2b89e.css" as="style"><link rel="preload" href="/divar-backend-course/assets/js/app.5df85f72.js" as="script"><link rel="preload" href="/divar-backend-course/assets/js/2.15bccd6b.js" as="script"><link rel="preload" href="/divar-backend-course/assets/js/9.93103164.js" as="script"><link rel="prefetch" href="/divar-backend-course/assets/js/10.0b553bf3.js"><link rel="prefetch" href="/divar-backend-course/assets/js/11.f6878dff.js"><link rel="prefetch" href="/divar-backend-course/assets/js/12.bb411c5b.js"><link rel="prefetch" href="/divar-backend-course/assets/js/13.1bbf0aa3.js"><link rel="prefetch" href="/divar-backend-course/assets/js/14.631bdd7a.js"><link rel="prefetch" href="/divar-backend-course/assets/js/15.ee5e7602.js"><link rel="prefetch" href="/divar-backend-course/assets/js/16.5e068667.js"><link rel="prefetch" href="/divar-backend-course/assets/js/17.ebb2ee22.js"><link rel="prefetch" href="/divar-backend-course/assets/js/18.e84e5535.js"><link rel="prefetch" href="/divar-backend-course/assets/js/19.9019b592.js"><link rel="prefetch" href="/divar-backend-course/assets/js/20.5c88cb6e.js"><link rel="prefetch" href="/divar-backend-course/assets/js/21.6c44b5c6.js"><link rel="prefetch" href="/divar-backend-course/assets/js/3.7af8c2e2.js"><link rel="prefetch" href="/divar-backend-course/assets/js/4.813a2721.js"><link rel="prefetch" href="/divar-backend-course/assets/js/5.adc36d38.js"><link rel="prefetch" href="/divar-backend-course/assets/js/6.48238d53.js"><link rel="prefetch" href="/divar-backend-course/assets/js/7.50dd109a.js"><link rel="prefetch" href="/divar-backend-course/assets/js/8.fc4ebc1c.js">
    <link rel="stylesheet" href="/divar-backend-course/assets/css/0.styles.fca2b89e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/divar-backend-course/" class="home-link router-link-active"><img src="/divar-backend-course/logo.png" alt="دوره آموزشی back-end دیوار" class="logo"> <span class="site-name can-hide">دوره آموزشی back-end دیوار</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://careers.divar.ir/positions#department=Engineering" target="_blank" rel="noopener noreferrer" class="nav-link external">
  فرصت‌های شغلی
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://divar.ir/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  دربارهٔ دیوار
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/pouyapayandeh/divar-backend-course" target="_blank" rel="noopener noreferrer" class="repo-link">
    github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://careers.divar.ir/positions#department=Engineering" target="_blank" rel="noopener noreferrer" class="nav-link external">
  فرصت‌های شغلی
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://divar.ir/about" target="_blank" rel="noopener noreferrer" class="nav-link external">
  دربارهٔ دیوار
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/pouyapayandeh/divar-backend-course" target="_blank" rel="noopener noreferrer" class="repo-link">
    github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/divar-backend-course/course/intro.html" class="sidebar-link">به دیوار خوش اومدی!</a></li><li><a href="/divar-backend-course/course/bash.html" class="sidebar-link">آشنایی با Bash Script</a></li><li><a href="/divar-backend-course/course/python-intro.html" class="sidebar-link">آشنایی با پایتون</a></li><li><a href="/divar-backend-course/course/network-intro.html" class="sidebar-link">آشنایی با شبکه</a></li><li><a href="/divar-backend-course/course/vc.html" class="sidebar-link">کنترل نسخه</a></li><li><a href="/divar-backend-course/course/proje1.html" class="sidebar-link">پروژه Ubuntu Paste</a></li><li><a href="/divar-backend-course/course/db.html" class="sidebar-link">دیتابیس</a></li><li><a href="/divar-backend-course/course/backup.html" class="sidebar-link">بکاپ گیری</a></li><li><a href="/divar-backend-course/course/rest.html" class="sidebar-link">سرویس های Restful</a></li><li><a href="/divar-backend-course/course/proje-drf.html" class="sidebar-link">پروژه DRF</a></li><li><a href="/divar-backend-course/course/go-intro.html" class="sidebar-link">آشنایی با زبان Go</a></li><li><a href="/divar-backend-course/course/grpc-go.html" class="sidebar-link">مایکروسرویس gRPC با Go</a></li><li><a href="/divar-backend-course/course/docker-intro.html" class="active sidebar-link">آشنایی با Docker</a></li><li><a href="/divar-backend-course/course/kube.html" class="sidebar-link">کوبرنتیز</a></li><li><a href="/divar-backend-course/course/owasp.html" class="sidebar-link">آشنایی با OWASP</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="آشنایی-با-docker"><a href="#آشنایی-با-docker" class="header-anchor">#</a> آشنایی با Docker</h1> <p>فرض کنین می‌خواین یه پروژه که روی کامپیوتر خودتون درست کردین و بالا آوردین رو یک جای دیگه هم ایجاد کنین. درست کردن این محیط می‌تونه کار خیلی سخت و طاقت‌فرسایی باشه! چیزی که اینجا می‌تونه به کمک ما بیاد و خیلی از جاها کار ما رو راه بندازه ابزاری به نام Docker است. اما قبل از اینکه بریم سراغ یادگرفتنش خوبه که قبلش با مفهوم Virtualization و همچنین <a href="https://en.wikipedia.org/wiki/Operating-system-level_virtualization" target="_blank" rel="noopener noreferrer">Virtualization در سطح سیستم‌عامل<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> آشنا بشین. حالا وقتش هست که بریم سراغ اینکه یه آشنایی اولیه‌ای با Docker پیدا کنیم. خوندن <a href="https://scotch.io/tutorials/getting-started-with-docker" target="_blank" rel="noopener noreferrer">این لینک<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> می‌تونه کمک کنه.</p> <p>حواستون باشه که سایت داکر برای ایران تحریمه و برای دانلود کردن imageهای داکر خوبه که از <a href="https://docs.docker.com/engine/admin/systemd/#httphttps-proxy" target="_blank" rel="noopener noreferrer">http proxy<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> استفاده کنید. (آدرسش رو می‌تونید از منتورتون بپرسید.)</p> <p>تمرین:</p> <ol><li>docker imageه nginx رو pull کن و ۳تا nginx رو پورت های ۸۰۸۰، ۸۰۸۱ و ۸۰۸۲ بالا بیار.</li> <li>nginxای که روی پورت ۸۰۸۲ هست رو پایین بیار و containerای که واسش ساخته شده رو remove کن. <br>
(اگر اول کانتینر رو remove میکردی چی میشد؟)</li> <li>docker imageه nginx رو remove کن.</li> <li>همونطور که تا الان احتمالا متوجه شدی متاسفانه داکر برای کشور ما تحریمه و خب باید از یه چیزی مثلا vpn استفاده کنیم. و خب اگه مثلا بخوایم رو سرور production از یه اینجور چیزی استفاده کنیم خیلی سخت میشه. <br>
در همین راستا میخوایم که یه docker imageو رو کامپیوتر خودمون بگیریم و یه جوری تبدیلش کنیم به یه فایلی که قابل کپی کردن باشه. برای این کار داکر به ما ۲تا روش میده که import/export و save/load هستند. این ۲تا روش رو امتحان کن و فرقاشونو در بیار. به نظرت کدوم روش برای کار ما بهتره؟</li> <li>برای ساختن docker image باید یه چیزی به نام dockerfile بنویسی و از رو اون image رو بسازی. <br>
یه docker image بساز واسه یه داکری که وقتی اجراش کنی اسمتو ۱۰بار چاپ کنه.</li> <li>با استفاده از environment variable در داکر یه کاری کن که داکری که در مرحله قبل نوشتی بتونه یه رشته ورودی بگیره و اونو ۱۰بار چاپ کنه.</li> <li>یک docker image دلخواه که blocking باشه رو اجرا کن و با استفاده از دستور docker exec یه shell ازش بگیر و ببین توش چه‌خبره. (blocking بودن یعنی یه سرویس بالا بیاره و منتظر بمونه مثل داکر nginx)</li> <li>همونطور که تو قسمت قبل دیدی فایل هایی که تو داکر وجود داره با فایل هایی که تو کامپیوتر خودت هست فرق داره و یه فایل سیستم جدا داره. حالا یه داکر فایل بنویس که تو آدرس /home/salam/ding یه فایل خالی بسازه. همچنین یه کاری کن که وقتی این داکر رو اجرا میکنی تو Desktopه خودت هم اون فایل‌ه ساخته شه. همچنین داکرت رو یه جوری کن که blocking باشه و با عوض کردن فایل توی داکر فایل توی Desktopت هم عوض شه. (از مفهوم <a href="https://docs.docker.com/engine/admin/volumes/bind-mounts/" target="_blank" rel="noopener noreferrer">binding<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> توی داکر استفاده کنید)</li> <li>همونطور که میدونین docker هایی که بالا میارین isolated هستن و مثلا روی نتورک هم دیگه رو نمیتونن ببینن، برای این کار میتونین همه container هاتون رو با گزینه net=host-- اجرا کنین. که این کار عموما خوب نیست. چرا؟ <br>
یه راه معمولا بهتر برای انجام این کار استفاده از docker-compose عه.(از <a href="https://docs.docker.com/compose/overview/" target="_blank" rel="noopener noreferrer">اینجا<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> بخونید) <br>
حالا یه compose file بنویسید که دیتابیس <a href="https://docs.mongodb.com/" target="_blank" rel="noopener noreferrer">mongodb<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> رو در حالت <a href="https://docs.mongodb.com/v3.4/core/master-slave/" target="_blank" rel="noopener noreferrer">master-slave<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> بالا بیاره و بشه تعداد رپلیکاهاشو تغییر داد.</li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">آخرین بروزرسانی:</span> <span class="time">۱۴۰۰/۱/۲۴،‏ ۱۱:۰۶:۳۷</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/divar-backend-course/course/grpc-go.html" class="prev">مایکروسرویس gRPC با Go</a></span> <span class="next"><a href="/divar-backend-course/course/kube.html">کوبرنتیز</a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/divar-backend-course/assets/js/app.5df85f72.js" defer></script><script src="/divar-backend-course/assets/js/2.15bccd6b.js" defer></script><script src="/divar-backend-course/assets/js/9.93103164.js" defer></script>
  </body>
</html>
